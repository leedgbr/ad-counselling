- pipeline: "deploy"
  trigger_mode: "ON_EVERY_PUSH"
  ref_name: "master"
  ref_type: "BRANCH"
  actions:
    - action: "Execute: aws cloudformation deploy --template-file ./template.yml --stack-name website"
      type: "AWS_CLI"
      region: "ap-southeast-2"
      execute_commands:
        - "aws cloudformation deploy --template-file ./template.yml --stack-name website"
      trigger_condition: "ALWAYS"
      integration_hash: "5e538faeaab2cb238773ae81"
    - action: "Upload files to AWS S3/website-adcounselling-root"
      type: "AMAZON_S3"
      input_type: "SCM_REPOSITORY"
      local_path: "public/"
      bucket_name: "website-adcounselling-root"
      acl: "PUBLIC_READ"
      integration_hash: "5e538faeaab2cb238773ae81"